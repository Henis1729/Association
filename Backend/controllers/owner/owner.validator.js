const Joi = require("joi");
const { ENUM: { ACCOMODATIONS, GENDER, DIETARY, DURATIONTYPE } } = require("../../helpers/constant.helper");

const validator = require("../../middleware/validator").validator;

module.exports = {
  createOwner: validator({
    body: Joi.object({
      address: Joi.string().trim().required(),
      city: Joi.string().trim().required(),
      province: Joi.string().trim(),
      googleMapLink: Joi.string().uri().allow(''),
      availabelSpace: Joi.number().integer().min(1).default(1),
      alreadyLiving: Joi.number().integer().min(0),
      rent: Joi.number().min(0),
      duration: Joi.number().min(1),
      durationType: Joi.string().valid(...Object.values(DURATIONTYPE)),
      accomodationType: Joi.string().valid(...Object.values(ACCOMODATIONS)),
      gender: Joi.string().valid(...Object.values(GENDER)),
      dietary: Joi.string().valid(...Object.values(DIETARY)),
      Laundry: Joi.boolean().default(true),
      parking: Joi.boolean().default(false),
      personalRoom: Joi.boolean().default(false),
      contactPersonName: Joi.string().trim().required(),
      contactPersonNumber: Joi.string().trim().required(),
      nearestBusStopDistance: Joi.number().min(0),
      homeCity: Joi.string().trim(),
      homeState: Joi.string().trim(),
      homeCountry: Joi.string().trim(),
      startDate: Joi.date().required(),
      photoes: Joi.array().items(Joi.string().uri()),
    }),
  }),
  getOwner: validator({
    query: Joi.object({
      _id: Joi.string(),
      city: Joi.string().trim(),
      province: Joi.string().trim(),
      gender: Joi.string().valid(...Object.values(GENDER), 'any'),
      dietary: Joi.string().valid(...Object.values(DIETARY), 'any'),
      accomodationType: Joi.string().valid(...Object.values(ACCOMODATIONS), 'any'),
      rent: Joi.number().min(0),
      availabelSpace: Joi.number().integer().min(1),
      homeCity: Joi.string().trim(),
      homeState: Joi.string().trim(),
      isActive: Joi.boolean(),
    }),
  }),
  updateOwner: validator({
    query: Joi.object({
      _id: Joi.string().required(),
    }),
    body: Joi.object({
      address: Joi.string().trim(),
      city: Joi.string().trim(),
      province: Joi.string().trim(),
      googleMapLink: Joi.string().uri().allow(''),
      availabelSpace: Joi.number().integer().min(1),
      alreadyLiving: Joi.number().integer().min(0),
      rent: Joi.number().min(0),
      duration: Joi.number().min(1),
      durationType: Joi.string().valid(...Object.values(DURATIONTYPE)),
      accomodationType: Joi.string().valid(...Object.values(ACCOMODATIONS)),
      gender: Joi.string().valid(...Object.values(GENDER)),
      dietary: Joi.string().valid(...Object.values(DIETARY)),
      Laundry: Joi.boolean(),
      parking: Joi.boolean(),
      personalRoom: Joi.boolean(),
      contactPersonName: Joi.string().trim(),
      contactPersonNumber: Joi.string().trim(),
      nearestBusStopDistance: Joi.number().min(0),
      homeCity: Joi.string().trim(),
      homeState: Joi.string().trim(),
      homeCountry: Joi.string().trim(),
      startDate: Joi.date(),
      photoes: Joi.array().items(Joi.string().uri()),
      isActive: Joi.boolean(),
    }),
  }),
  deleteOwner: validator({
    query: Joi.object({
      _id: Joi.string().required(),
    }),
  }),
};
